!function t(e,n,o){function i(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){var n=e[s][1][t];return i(n?n:t)},p,p.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){"use strict";var o={fontNo:"6",dpi:203};n.config=o},{}],2:[function(t){"use strict";t("./src/components/component"),t("./src/components/text"),t("./src/components/rect"),t("./src/components/ellipse"),t("./src/components/line"),t("./src/components/image"),t("./src/components/barcode")},{"./src/components/barcode":3,"./src/components/component":4,"./src/components/ellipse":5,"./src/components/image":6,"./src/components/line":7,"./src/components/rect":8,"./src/components/text":9}],3:[function(t,e,n){"use strict";var o=t("../../config").config;scene.Barcode.prototype._toZpl=function(){var t=this.model,e=t.symbol,n=t.scale_w,i=void 0===n?1:n,r=t.showText,s=void 0===r?"Y":r,a=t.textAbove,c=void 0===a?"":a,h=this.labelingBounds,p=h.left,u=h.top,l=(h.width,h.height),f=this.text,d=this.orientation,b=[],g=3,m=l;b.push(["^BY"+i,g,m]),b.push(["^FO"+p,u]),s&&"qrcode"!=e&&(l-=6*i+8);o.dpi;switch(e){case"code11":b.push(["^B1"+d,,l,s,c]);break;case"interleaved2of5":b.push(["^B2"+d,l,s,c]);break;case"code39":b.push(["^B3"+d,,l,s,c]);break;case"code49":b.push(["^B4"+d,l,s]);break;case"planet":b.push(["^B5"+d,l,s,c]);break;case"pdf417":b.push(["^B7"+d,l,,,,]);break;case"ean8":b.push(["^B8"+d,l,s,c]);break;case"upce":b.push(["^B9"+d,l,s,c]);break;case"code93":b.push(["^BA"+d,l,s,c]);break;case"codablock":b.push(["^BB"+d,l,,,,]);break;case"code128":b.push(["^BC"+d,l,s,c,,]);break;case"maxicode":b.push(["^BD"+d,,l,s,c]);break;case"ean13":b.push(["^BE"+d,l,s,c]);break;case"micropdf417":b.push(["^BF2",,]);break;case"industrial2of5":b.push(["^BI"+d,l,s,c]);break;case"standard2of5":b.push(["^BJ"+d,l,s,c]);break;case"ansicodabar":b.push(["^BK"+d,,l,s,c,,]);break;case"logmars":b.push(["^BL"+d,l,c]);break;case"msi":b.push(["^BM"+d,,l,s,c]);break;case"plessey":b.push(["^BP"+d,,l,s,c]);break;case"qrcode":b.push(["^BQ"+d,2,Math.round(l/19.54)]);break;case"upca":b.push(["^BU"+d,l,s,c]);break;case"datamatrix":b.push(["^BX"]);break;case"postal":b.push(["^BZ"+d,l,s,c])}b.push("qrcode"===e?["^FDQ","A"+f]:["^FD"+f]),b.push(["^FS"]);var v=b.map(function(t){return t.join(",")}).join("\n")+"\n";return v},n.Barcode=scene.Barcode},{"../../config":1}],4:[function(t,e,n){"use strict";function o(t){return"black"===t||"#000"===t||"#000000"===t}var i={NORMAL:"N",ROTATE_90:"R",INVERTED_180:"I",BOTTOM_UP_270:"B"},r=203;Object.defineProperty(scene.Component.prototype,"labelingRatio",{get:function(){var t=r/2.54/10,e=.1;return t*e}}),scene.Scene.prototype.toZpl=function(){var t=this,e=Number(this.root.get("width"))/100;return new Promise(function(n,o){t.root.toZpl().then(function(t){n(["^XA","^PW"+Math.round(e/2.54*r)+"\n",t,"^XZ"].join("\n"))},function(t){o(t)})})},scene.Component.prototype.toZpl=function(){var t=this;return new Promise(function(e,n){try{e(t._toZpl())}catch(o){n(o)}})},scene.Container.prototype.toZpl=function(){var t=this;return new Promise(function(e,n){var o=t.components.map(function(t){return t.toZpl()});Promise.all(o).then(function(t){e(t.join("\n"))},function(t){n(t)})})},Object.defineProperty(scene.Component.prototype,"lineColor",{get:function(){var t=this.model,e=t.strokeStyle,n=t.fillStyle;return o(e)||o(n)?"B":"W"}}),Object.defineProperty(scene.Component.prototype,"lineWidth",{get:function(){var t=this.model.lineWidth;return t*this.labelingRatio}}),Object.defineProperty(scene.Component.prototype,"borderThickness",{get:function(){var t=this.model,e=t.fillStyle,n=t.lineWidth,i=this.labelingBounds,r=i.width,s=i.height;return o(e)?Math.min(r,s)/2:n*this.labelingRatio}}),Object.defineProperty(scene.Component.prototype,"textBounds",{get:function(){var t=this.bounds,e=t.left,n=t.top,o=t.width,i=t.height;return e+=this.paddingLeft||0,n+=this.paddingTop||0,o-=(this.paddingLeft||0)+(this.paddingRight||0),i-=(this.paddingTop||0)+(this.paddingBottom||0),{left:e,top:n,width:o,height:i}}}),Object.defineProperty(scene.Component.prototype,"labelingTextBounds",{get:function(){var t=this.textBounds,e=t.left,n=t.top,o=t.width,i=t.height,r=this.transcoordS2T(e,n),s=this.transcoordS2T(e+o,n+i),e=Math.min(r.x,s.x)*this.labelingRatio,n=Math.min(r.y,s.y)*this.labelingRatio,o=Math.abs(s.x-r.x)*this.labelingRatio,i=Math.abs(s.y-r.y)*this.labelingRatio;return{left:e,top:n,width:o,height:i}}}),Object.defineProperty(scene.Component.prototype,"labelingBounds",{get:function(){var t=this.bounds,e=t.left,n=t.top,o=t.width,i=t.height,r=this.transcoordS2T(e,n),s=this.transcoordS2T(e+o,n+i),e=Math.min(r.x,s.x)*this.labelingRatio,n=Math.min(r.y,s.y)*this.labelingRatio,o=Math.abs(s.x-r.x)*this.labelingRatio,i=Math.abs(s.y-r.y)*this.labelingRatio;return{left:e,top:n,width:o,height:i}}}),Object.defineProperty(scene.Component.prototype,"absoluteRotation",{get:function(){for(var t=0,e=this;e;)t+=e.get("rotation")||0,e=e.parent;return t}}),Object.defineProperty(scene.Component.prototype,"orientation",{get:function(){var t=this.absoluteRotation%(2*Math.PI);return Math.PI*-.25<t&&t<=.25*Math.PI?i.NORMAL:.25*Math.PI<t&&t<=.75*Math.PI?i.ROTATE_90:.75*Math.PI<t&&t<=1.25*Math.PI||-1.25*Math.PI<t&&t<=Math.PI*-.75?i.INVERTED_180:Math.PI<1.25*t&&t<=1.75*Math.PI||Math.PI*-.75<t&&t<=Math.PI*-.25?i.BOTTOM_UP_270:void 0}}),n.Component=scene.Component},{}],5:[function(t,e,n){"use strict";t("./text"),scene.Component.prototype.toZplForEllipse=function(t,e,n){var o=t.top,i=t.left,r=t.width,s=t.height,a=[];return a.push(["^FO"+i,o]),a.push(r===s?["^GC"+r,n,e]:["^GE"+r,s,n,e]),a.push(["^FS"]),a.map(function(t){return t.join(",")}).join("\n")+"\n"},scene.Ellipse.prototype._toZpl=function(){var t=this.toZplForEllipse(this.labelingBounds,this.lineColor,this.borderThickness);return this.text&&(t+=this.toZplForText()),t},n.Ellipse=scene.Ellipse},{"./text":9}],6:[function(t,e,n){"use strict";function o(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()+t()+t()+t()+t()}function i(t){var e=t.model.src,n=t.labelingBounds,o=(n.top,n.left,n.width),i=n.height;o=Math.round(o),i=Math.round(i);var r;"undefined"==typeof document?r=new Canvas(o,i):(r=document.createElement("canvas"),r.width=o,r.height=i);var c=new Image,h=new Promise(function(t,e){c.onload=function(){var e=r.getContext("2d");e.drawImage(c,0,0,this.width,this.height,0,0,o,i);var n=e.getImageData(0,0,o,i),h=n.data,p=s(o,i,a.binarize(o,i,h));t(p)},c.onerror=function(t){e(t)}});return c.crossOrigin="use-credentials",c.src=t.app.url(e),h}function r(t){return parseInt(t,2).toString(16).toUpperCase()||""}function s(t,e,n){for(var o="",i=Math.ceil(t/8),s=0;e>s;s++){for(var a="",c=0,h=0;t>h;h++)a+=0==n[4*(t*s+h)+1]?"1":"0",a.length>7&&(o+=r(a.substring(0,4))+r(a.substring(4,8)),a="",c++);if(a.length>0){for(;a.length<8;)a+="0";o+=r(a.substring(0,4))+r(a.substring(4,8)),a="",c++}for(;c++<i;)o+=r("0000")+r("0000");o+="\n"}return i*e+","+i+","+o}var a=t("../utils/rgb-binarize");scene.ImageView.prototype.toZpl=function(){var t=this.labelingBounds,e=t.top,n=t.left,r=this;return new Promise(function(t,s){i(r).then(function(i){var r=o(),s=[["~DG"+r,i],["^FO"+n,e],["^XGR:"+r,1,1],["^PQ1"],["^FS"]],a=s.map(function(t){return t.join(",")}).join("\n")+"\n";t(a)},function(t){s(t)})})},n.Image=scene.ImageView},{"../utils/rgb-binarize":10}],7:[function(t,e,n){"use strict";t("./rect"),t("./text"),scene.Component.prototype.toZplForLine=function(t,e,n,o){var i=t.left,r=t.top,s=t.width,a=t.height,c=[["^FO"+i,r],["^GD"+s,a,n,e,o],["^FS"]];return c.map(function(t){return t.join(",")}).join("\n")+"\n"},scene.Line.prototype._toZpl=function(){var t,e=this.labelingBounds;if(e.width<.5||e.height<.5)0==width?(e.left-=this.borderThickness/2,e.width+=this.borderThickness/2):0==height&&(e.top-=this.borderThickness/2,e.height+=this.borderThickness/2),t=this.toZplForRect(e,this.lineColor,this.borderThickness,0);else{var n=this.model,o=n.x1,i=n.x2,r=n.y1,s=n.y2,a=this.transcoordS2T(o,r),c=this.transcoordS2T(i,s),h=(a.x-c.x)*(a.y-c.y)>0?"L":"R";t=this.toZplForLine(e,this.lineColor,this.lineWidth,h)}return this.text&&(t+=this.toZplForText()),t},n.Line=scene.Line},{"./rect":8,"./text":9}],8:[function(t,e,n){"use strict";t("./text"),scene.Component.prototype.toZplForRect=function(t,e,n,o){var i=t.top,r=t.left,s=t.width,a=t.height,c=[["^FO"+r,i],["^GB"+s,a,n,e,Math.round(8*o/100)],["^FS"]];return c.map(function(t){return t.join(",")}).join("\n")+"\n"},scene.Rect.prototype._toZpl=function(){var t=this.model.round,e=void 0===t?0:t,n=this.toZplForRect(this.labelingBounds,this.lineColor,this.borderThickness,e);return this.text&&(n+=this.toZplForText()),n},n.Rect=scene.Rect},{"./text":9}],9:[function(t,e,n){"use strict";var o=t("../../config").config,i=100;scene.Component.prototype.toZplForText=function(){var t=this.model,e=t.textWrap,n=t.textAlign,r=(t.textBaseline,this.labelingTextBounds),s=r.left,a=r.top,c=r.width,h=(r.height,this.orientation),p=(this.lineHeight-this.fontSize)*this.labelingRatio,u=this.text,l=this.fontSize*this.labelingRatio,f=this.fontSize*this.labelingRatio,d=o.fontNo||"A";if(e){var b;switch(n){case"right":b="R";break;case"justify":b="J";break;case"center":b="C";break;case"left":default:b="L"}var g=0,m=[["^FO"+s,a],["^A"+d+h,l,f],["^FB"+c,i,p,b,g],["^FD"+u],["^FS"]]}else var m=[["^FO"+s,a],["^A"+d+h,l,f],["^FD"+u],["^FS"]];return m.map(function(t){return t.join(",")}).join("\n")+"\n"},scene.Text.prototype._toZpl=function(){return this.toZplForText()},n.Text=scene.Text},{"../../config":1}],10:[function(t,e,n){"use strict";function o(t,e,n){for(var o=[],i=0;e>i;i++)for(var r=0;t>r;r++){var s=4*(t*i+r),a=.21*n[s+c]+.71*n[s+h]+.07*n[s+p];a+=(255-n[s+u])*(255-a)/255,o[s+c]=a,o[s+h]=a,o[s+p]=a,o[s+u]=n[s+u]}return o}function i(t,e,n){for(var o=[],i=0;a>i;i++)o[i]=0;for(var r=0;e>r;r++)for(var s=0;t>s;s++){var h=4*(t*r+s),p=Math.round(n[h+c]);o[p]++}return o}function r(t,e,n){for(var o=i(t,e,n),r=0,s=0;a>s;s++)r+=s*o[s];for(var c=0,h=0,p=0,u=0,l=0,f=t*e,d=0;a>d;d++)if(h+=o[d],0!=h){if(p=f-h,0==p)break;c+=d*o[d];var b=c/h,g=(r-c)/p,m=h*p*(b-g)*(b-g);m>u&&(u=m,l=d)}return l}function s(t,e,n){for(var i=o(t,e,n),s=r(t,e,i),a=[],l=0;e>l;l++)for(var f=0;t>f;f++){var d=4*(l*t+f);i[d]>s?(a[d+c]=255,a[d+h]=255,a[d+p]=255):(a[d+c]=0,a[d+h]=0,a[d+p]=0),a[d+u]=i[d+u]}return a}Object.defineProperty(n,"__esModule",{value:!0}),n.binarize=s;var a=256,c=0,h=1,p=2,u=3},{}]},{},[2]);